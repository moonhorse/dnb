<html>
  <head>
    <link rel="stylesheet" href="./css/app.css" type="text/css" media="screen" charset="utf-8">
    <link rel="stylesheet" href="./lib/jquery.jqplot.min.css" type="text/css" />

    <script src="./lib/underscore.js" type="text/javascript"></script>
    <script src="./lib/jquery-1.6.4.min.js" type="text/javascript"></script>
    <script src="./lib/jquery.jqplot.min.js" type="text/javascript" ></script>

    <script src="./lib/backbone.js" type="text/javascript"></script>
    <script src="./lib/dojo.js" type="text/javascript"></script>
    <!--<script src="http://ajax.googleapis.com/ajax/libs/dojo/1.6.1/dojo/dojo.xd.js" type="text/javascript"></script>-->
    <script src="./app/init.js" type="text/javascript"></script>
  </head>

  <body>
    <!-- FB init -->
    <div id="fb-root"></div>
    <script>
      function handleStatusChange(response) {
        document.body.className = response.authResponse ? 'connected' : 'not_connected';

        if (response.authResponse) {
          console.log(response);
        }
      }

      function loginUser() {
        FB.login(function(response) { }, {});
      }

      window.fbAsyncInit = function() {
        FB.init({ appId: '217583671596528',
          status: true,
          cookie: true,
          xfbml: true,
          oauth: true});

          FB.Event.subscribe('auth.statusChange', handleStatusChange);
      };

      (function() {
        var e = document.createElement('script'); e.async = true;
            e.src = document.location.protocol + '//connect.facebook.net/en_US/all.js';
            document.getElementById('fb-root').appendChild(e);
       }());
    </script>

    <div id='main'>
    </div>

    <div id="login">
      <p><button onClick="loginUser();">Login</button></p>
    </div>
    <div id="logout">
      <p><button  onClick="FB.logout();">Logout</button></p>
    </div>

    <div id="chartdiv" style="height:400px;width:300px; "></div>
  </body>
</html>
